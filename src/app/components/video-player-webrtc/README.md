# video-player 组件文档

## API

#### Props

|               props              |      Type            |        Default/Return        |                                   Description                                         |
| :------------------------------: | :------------------: | :--------------------------: | :-----------------------------------------------------------------------------------: |
|            options               |   PlayOptions        |        undefined             | 视频源的信息，包括url，清晰度，设备ID等                                               |
|            m3u8Option            |   M3u8Option         |        undefined             | 使用hls协议回放视频时所需要的视频数据                                                 |
|            autoplay              |     boolean          |          false               | 是否自动播放视频                                                                      |
|            playbackRate          |     number           |          1                   | 回放视频播放速率, 1表示正常速率, 小于1播放速度变慢, 大于1变快, 小于0时, 可实现倒播    |
|            controlType           | 'bottom' | 'middle'  |        'bottom'              | 控制按钮的类别，'bottom'表示显示底部按钮组，'middle'表示只显示中间的播放按钮          |
|            zoom                  |     boolean          |          false               | 是否开启拉伸放大，当设为true时，可以通过鼠标在视频区域，选择一个矩形区域，进行放大    |
|            fill                  |     boolean          |          true                | 画面是否被拉伸，以充满播放器，如该值为false就按一比一比例显示                         |
|            streamId              |     number           |          空                  | 表示视频的码流，当该值发生改变时，当前播放器会切换到对应的码流                        |

#### Events

|    事件名   |                            说明                                  |          返回值                                                 |
| :---------: | :------------------------------------------------------------:   | :-------------------------------------------------------------: |
| playstart   | 播放器成功播放时触发                                             |  无                                                             |
| screenshot  | 截图成功时触发                                                   |  Observable<Screenshot>，一个可观察对象，其中返回截图文件数据   |
| stretch     | 触发该事件需把zoom设为true，当选中一个矩形区域后，鼠标松开时触发 |  ZoomParam，放大选中区域所需的参数                              |
| videoEnded  | 视频播放结束时触发                                               |  无                              |

#### Methods

|    方法名           |                            说明                                |
| :-----------------: | :------------------------------------------------------------: |
| getScreenshot       | 获取当前视频截图                                               |
| switchRatio         | 切换视频比例，有一比一比例，和拉伸视频铺满全屏                 |
| toggleStream        | 切换视频码流，没有参数，每次码流加一                           |